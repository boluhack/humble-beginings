!function(e){function n(t){if(r[t])return r[t].exports;var i=r[t]={exports:{},id:t,loaded:!1};return e[t].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t=window.jsonpFunctionUIB;window.jsonpFunctionUIB=function(r,o){for(var a,s,c=0,u=[];c<r.length;c++)s=r[c],i[s]&&u.push.apply(u,i[s]),i[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);for(t&&t(r,o);u.length;)u.shift().call(null,n)};var r={},i={0:0};return n.e=function(e,t){if(0===i[e])return t.call(null,n);if(void 0!==i[e])i[e].push(t);else{i[e]=[t];var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.src=n.p+""+({1:"responses/data-collection/saveUrlParams/saveUrlParams",2:"responses/data-collection/trackExitIntent/trackExitIntent",3:"responses/data-collection/trackGTMEvents/trackGTMEvents",4:"responses/data-collection/saveContentScore/saveContentScore",5:"responses/data-feeds/readDataFeed/readDataFeed",6:"responses/surveys/dialog/dialog",7:"responses/tags/addToRemarketingList/addToRemarketingList",8:"responses/uihints/underTheFoldIndicator/underTheFoldIndicator",9:"responses/tags/changePageContent/changePageContent",10:"responses/tags/addJavaScriptTags/addJavaScriptTags",11:"responses/data-collection/splitTrafficIntoGroups/splitTrafficIntoGroups",12:"responses/tags/showHideContent/showHideContent",13:"responses/notifications/notify/notify",14:"responses/notifications/onscreen/onscreen",15:"responses/notifications/webpush/webpush",16:"mustache",17:"console/console"}[e]||e)+".js",r.appendChild(o)}},n.m=e,n.c=r,n.p="./dist/",n(0)}({0:function(e,n,t){function r(e,n){for(var t in n)e[t]=n[t];return e}function i(){var e=document.querySelector('script[src*="uResponses."]');source=e?e.getAttribute("src"):"./";var n=source.split("/").pop();return source.replace(n,"")}function o(){t.e(17,function(e){var n=t(44);n.load(),n.show();var r=a.pendingEvents;r||(r=[]);var i=r.filter(function(e){return"m"==e.type&&"Section"==e.key});if(!i||0==i.length){var o=sessionStorage.getItem("uDash.lastSection");o&&n.model.eventsModel.addSeparator("Section",o)}for(var s=0;s<r.length;s++){var c=r[s];n.addEvent(c.type,c.key,c.value,c.params)}delete a.pendingEvents,a.console=n})}var a={responses:{},helpers:{},c:"UseItBetter Response:"};window.uResponses=a,a.help=t(1);var s=t(2),c=t(40),u=t(41),l=t(42);a.list={};for(var f in s)a.list[f]=f;a.findElements=t(4),a.execute=function(e,n,i,o){o=o?o:{},n=r({},n);var f=u(n,l);if(f===!1)return void t.e(16,function(r){var s=t(43);l=s.render,a.execute(e,n,i,o)});i=i?i:function(e){e&&console.log(e)};var h=s[e];h?h(function(e,t){e||c(t,n,i,o)}):i(new Error("Response "+e+" does not exist"))},t.p=i(),a.helpers.traceEvent=function(e,n,t,r){if("m"==e||"e"==e||"a"==e){n=n.toString();var i=a.console;if(i)i.addEvent(e,n,t,r);else{var s=a.pendingEvents;s||(s=[],a.pendingEvents=s,o()),s.push({type:e,key:n,value:t,params:r})}}},window.addEventListener("beforeunload",function e(n){window.removeEventListener("beforeunload",e,!1);var t=a.console;t&&t.save()},!1)},1:function(e,n,t){var r,i;r=[],i=function(){function e(e){if(null==n){var r=t.p+"\\uResponses.json",i=new XMLHttpRequest;if(i.open("GET",r,!1),i.send(null),200===i.status){n={};var o=JSON.parse(i.responseText);o.responses.forEach(function(e){n[e.name]=e})}}return n?n[e]:null}var n=null;return e}.apply(n,r),!(void 0!==i&&(e.exports=i))},2:function(e,n,t){e.exports={codeEval:function(e){var n=t(3);e(null,n)},saveErrors:function(e){var n=t(8);e(null,n)},saveContent:function(e){var n=t(9);e(null,n)},saveUrlParams:function(e){t.e(1,function(n){var r=t(10);e(null,r)})},trackExitIntent:function(e){t.e(2,function(n){var r=t(11);e(null,r)})},trackGTMEvents:function(e){t.e(3,function(n){var r=t(12);e(null,r)})},saveContentScore:function(e){t.e(4,function(n){var r=t(13);e(null,r)})},readStats:function(e){t.e(5,function(n){var r=t(14);e(null,r)})},readPivot:function(e){t.e(5,function(n){var r=t(15);e(null,r)})},showMessage:function(e){t.e(6,function(n){var r=t(16);e(null,r)})},showChoiceMessage:function(e){t.e(6,function(n){var r=t(20);e(null,r)})},showQuestion:function(e){t.e(6,function(n){var r=t(21);e(null,r)})},showClosedQuestion:function(e){t.e(6,function(n){var r=t(22);e(null,r)})},askForEmail:function(e){t.e(6,function(n){var r=t(23);e(null,r)})},contactForm:function(e){t.e(6,function(n){var r=t(25);e(null,r)})},showLikertSurvey:function(e){t.e(6,function(n){var r=t(27);e(null,r)})},addToRemarketingList:function(e){t.e(7,function(n){var r=t(28);e(null,r)})},underTheFoldIndicator:function(e){t.e(8,function(n){var r=t(29);e(null,r)})},changePageContent:function(e){t.e(9,function(n){var r=t(30);e(null,r)})},addJavaScriptTags:function(e){t.e(10,function(n){var r=t(33);e(null,r)})},splitTrafficIntoGroups:function(e){t.e(11,function(n){var r=t(34);e(null,r)})},showHideContent:function(e){t.e(12,function(n){var r=t(35);e(null,r)})},notify:function(e){t.e(13,function(n){var r=t(36);e(null,r)})},onscreenNotification:function(e){t.e(14,function(n){var r=t(38);e(null,r)})},subscribe:function(e){t.e(15,function(n){var r=t(39);e(null,r)})}}},3:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(4)],__WEBPACK_AMD_DEFINE_RESULT__=function(findElements){var codeEval=function(options,callback){var code=options.code;options.triggeringEvent&&(options.triggeringEvent.key&&(code=code.split("{{triggeringEvent.key}}").join(options.triggeringEvent.key)),options.triggeringEvent.value&&(code=code.split("{{triggeringEvent.value}}").join(options.triggeringEvent.value)));try{eval(code),callback(null)}catch(e){callback(e)}};return codeEval}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},4:function(e,n,t){var r,i;r=[t(5)],i=function(e){var n=new e,t=n.search.bind(n),r=function(e){for(var n=document.querySelectorAll(e),t=[],r=0;r<n.length;r++)t.push(n.item(r));return t},i=function(e){var n,i=e.indexOf("*")==-1&&e.indexOf("/")==-1;if(i)try{n=r(e)}catch(e){i=!1}if(!i)try{n=t(e)}catch(e){}return n};return i}.apply(n,r),!(void 0!==i&&(e.exports=i))},5:function(e,n,t){var r,i;r=[t(6),t(7)],i=function(e,n){var t=function(e){return e.indexOf("*")!=-1},r=function(e,n){return n&&(e=e.filter(function(e){for(var t=0;t<n.length;t++)if(0==e.indexOf(n[t]))return!1;return!0})),e},i=function(e,n){if("*"===n)return"";var t="",r=n.split("*");if(1===r.length)t="."+classNameMask.split(" ").join(".");else if(2===r.length)t=""===r[0]?"["+e+'$="'+r[1]+'"]':""===r[1]?"["+e+'^="'+r[0]+'"]':"["+e+'^="'+r[0]+'"]['+e+'$="'+r[1]+'"]';else if(3===r.length&&""===r[1])t="["+e+'^="'+r[0]+'"]['+e+'$="'+r[2]+'"]';else if(3===r.length&&""===r[0]&&""===r[2])t="["+e+'*="'+r[1]+'"]';else for(var o=r.length,a=0;a<o;a++)if(""!==r[a]){var s=r[a];a+1<o&&(s+="*"),(" "===s.charAt(0)||a>0)&&(s="*"+s),t+=i(e,s)}return t},o={div:!0,span:!0,"*":!0},a=/[ \t\n\r]+/,s=function(){if(this.parser=new e,this.ignoredElement="uConsole",window.uDash){var s=window.uDash._globalSettings;s&&(this.prefixes=s.uIgnoreClassNamesWithPrefix)}this.constructSelector=function(e){for(var n=[],r=!1,o=0;o<e.length;o++){var a=e[o],s=a.elementId,c=a.tagName,u=a.childIndex,l=a.classList,f="",h=a.pathPartString;""!=c&&t(c)===!1&&(f+=c),""!=s&&(f+=t(s)===!1?"#"+s:i("id",s)),u>0&&(f=f+":nth-child("+u+")");for(var d=[],v=[],p=!1,g=0;g<l.length;g++){var E=l[g];""!=E&&(t(E)?p=!0:d.push("."+E),v.push(E))}f+=d.join(""),p&&(f+=i("class","*"+v.join(" ")));var m="*"!=h.charAt(0);""!=f?(r&&m&&n.push(">"),n.push(f),r="*"!=h.charAt(h.length-1)):r=!1}var _=n.join(" ");return r===!1&&""!=_&&(_=_+","+_+" *"),_},this.getElementShortPath=function(e){for(var n=[];e;){var t=e.tagName,i=e.className,o=e.id,s=t+"[*]";if(i&&(i="string"!=typeof i?"baseVal"in i?i.baseVal:null:i.trim()),o&&(s=s+"#"+o),i){var c=i.split(a);c=r(c,this.prefixes),c.length&&(s=s+"."+c.join("."))}n.push(s),e="HTML"==e.tagName?null:e.parentNode}return n.reverse().join("/")},this.search=function(e){e=e.replace(/ /g,"");var t,r=this.parser.parse(e),i=this.constructSelector(r),a=[];if(0==r.length)return a;if(""==i)throw new Error("Your query is too generic");if(i in o)throw new Error("Your query is too generic");0!==i.indexOf("body")&&(i="body "+i),t=document.querySelectorAll(i),e=e.replace(/\[([^\]]+)]/g,"[*]");for(var s=(new n).getPathRegex(e),c=document.getElementById(this.ignoredElement),u={SCRIPT:!0,BR:!0},l=0;l<t.length;l++){var f=t.item(l);if(!(c&&c.contains(f)||f.tagName in u)){var h=this.getElementShortPath(f);s.test(h)&&a.push(f)}}return a}};return s}.apply(n,r),!(void 0!==i&&(e.exports=i))},6:function(e,n,t){var r,i;r=[],i=function(){var e={TAG_NAME:0,CHILD_INDEX:1,AFTER_CHILD_INDEX:2,ELEMENT_ID:3,CLASS_LIST:4},n=function(){this.onUnexpectedSymbol=function(){throw new Error("Not expected "+this.char+" at "+this.index+" position in "+this.pathPartString)},this.parseTagName=function(){switch(this.char){case"[":if(""==this.tagName)throw new Error("Tagname should be preceding child index in "+this.pathPartString);this.mode=e.CHILD_INDEX;break;case"#":this.mode=e.ELEMENT_ID;break;case".":this.mode=e.CLASS_LIST;break;case"]":this.onUnexpectedSymbol();break;case"/":break;default:this.tagName+=this.char}},this.parseChildIndex=function(){switch(this.char){case"]":if(""==this.childIndexString)throw new Error("Child index should not be empty in "+this.pathPartString);if("*"==this.childIndexString)this.childIndex=0;else if(this.childIndex=Number(this.childIndexString),isNaN(this.childIndex)||this.childIndex%1!==0)throw new Error("Child index should be integer or * in "+this.pathPartString);this.mode=e.AFTER_CHILD_INDEX;break;case"/":throw new Error("No closing ] found in "+this.pathPartString);case".":case"#":case"[":this.onUnexpectedSymbol();break;default:this.childIndexString+=this.char}},this.parseAfterChildIndex=function(){switch(this.char){case".":this.mode=e.CLASS_LIST;break;case"*":this.classString="*",this.mode=e.CLASS_LIST;break;case"#":this.mode=e.ELEMENT_ID;break;case"/":break;default:this.onUnexpectedSymbol()}},this.parseElementId=function(){switch(this.char){case"/":case".":if(""==this.elementId)throw new Error("Element id should not be empty in "+this.pathPartString);this.mode=e.CLASS_LIST;break;case"#":case"[":case"]":this.onUnexpectedSymbol();break;default:this.elementId+=this.char}},this.parseClassList=function(){switch(this.char){case"/":case".":""!=this.classString&&(this.classList.push(this.classString),this.classString="");break;case"[":case"]":case"#":this.onUnexpectedSymbol();break;default:this.classString+=this.char}},this.parse=function(n){this.char="",this.mode=e.TAG_NAME,this.tagName="",this.elementId="",this.classList=[],this.classString="",this.childIndex=-1,this.childIndexString="",this.pathPartString='"'+n+'"';for(var t=n+"/",r=t.length,i=0;i<r;i++)if(this.char=t.charAt(i)," "!=this.char)switch(this.index=i,this.mode){case e.TAG_NAME:this.parseTagName();break;case e.CHILD_INDEX:this.parseChildIndex();break;case e.AFTER_CHILD_INDEX:this.parseAfterChildIndex();break;case e.ELEMENT_ID:this.parseElementId();break;case e.CLASS_LIST:this.parseClassList()}return{pathPartString:n,tagName:this.tagName,elementId:this.elementId,classList:this.classList,childIndex:this.childIndex}}},t=function(){this.parse=function(e){for(var t=e.split("/"),r=[],i=new n,o=0;o<t.length;o++){var a=t[o];0!=a.length&&r.push(i.parse(a))}return r}};return t}.apply(n,r),!(void 0!==i&&(e.exports=i))},7:function(e,n,t){var r,i;r=[],i=function(){var e=function(){this.getPathRegex=function(e,n){var t=e,r=n===!0?"(.*)":".*";return t=t.replace(/[.+?^${}()|[\]\\]/g,"\\$&"),t=t.replace(/\*/g,r),0!=t.indexOf(".*")&&(t=".*"+t),new RegExp(t+"$","i")}};return e}.apply(n,r),!(void 0!==i&&(e.exports=i))},8:function(e,n,t){var r,i;r=[t(4)],i=function(e){var n=function(e){return 0!==e.offsetWidth&&0!==e.offsetHeight},t=function(e){var n;if(e&&e.parentNode){var t=e.parentNode.querySelector("[id]");t&&(n=t.id)}for(;e&&!n;)n=e.id,e=e.parentNode;return n},r=function(e){var n=e.innerText||e.textContent;if(n=n.trim(),n.length>2){var r=t(e);r&&(n=n+" on #"+r)}else n=null;return n},i=function(t,i){for(var o=t.selectors,a=t.splitOnLineBreak||!1,s=!1,c=0;c<o.length;c++){var u=e(o[c]);if(u&&u.length)for(var l=0;l<u.length;l++){var f=u[l];if(n(f)){var h=r(f);if(h){if(a)for(var d=h.split(/\r|\n/),v=0;v<d.length;v++)d[v]&&uDash.saveMeta("Error",d[v]);else uDash.saveMeta("Error",h);s=!0}}}}};return i}.apply(n,r),!(void 0!==i&&(e.exports=i))},9:function(e,n,t){var r,i;r=[t(4)],i=function(e){function n(e,n){e=e.replace(/\s+/g,""),e=e.replace(/,/g,"");for(var t=NaN,r=0;isNaN(t)&&r<e.length;r++)t=n(e.substr(r));return isNaN(t)?null:t}function t(e,t){var r=e.innerText||e.textContent;return r&&("number"==t&&(r=n(r,parseFloat)),"int"==t&&(r=n(r,parseInt))),r}var r=function(n,r){for(var i=n.selectors,o=n.datapoint,a=n.key,s=n.valueFormat||"string",c="a"==o?uDash.saveAttribute:uDash.saveMeta,u=!1,l=0;l<i.length;l++){var f=i[l],h=e(f);if(h&&h.length)for(var d=0;d<h.length;d++){var v=h[d],p=t(v,s);p&&(c(a,p),u=!0)}}r(u?null:new Error("No content found"))};return r}.apply(n,r),!(void 0!==i&&(e.exports=i))},40:function(e,n,t){var r,i;r=[],i=function(){var e=function(e){var n=e.reduce(function(e,n){return"undefined"!=typeof window[n]&&e},!0);return n},n=function(e,n,t,r){var i=r.interval,o=r.timeout,a=(new Date).getTime(),s=function(t){try{e(n,t)}catch(e){t(e)}},c=function(e,n){if(e)if(i>0&&o>0){var r=(new Date).getTime()-a;r<o?setTimeout(s,i,c):t(new Error("Response Timeout"))}else t(e);else t(null,n)};s(c)},t=function(t,r,i,o){var a=o.delay,s=o.dependencies,c=t;s&&s.length>0&&(c=function(n,r){var i=e(s);i?t(n,r):r(new Error("Dependencies not available"))}),a&&a>0?setTimeout(function(){n(c,r,i,o)},a):n(c,r,i,o)};return t}.apply(n,r),!(void 0!==i&&(e.exports=i))},41:function(e,n,t){var r,i;r=[t(4)],i=function(e){function n(n){var t=e(n);return t&&t.length?t[0]:null}function t(e,t){return function(r,i){var o=n(i(r)),a=o?o[e]:void 0;if(t)for(;void 0==a&&o;)a=o[e],o=o.parentNode;return a}}function r(){return function(e,t){var r=t(e).split("|"),i=r[0],o=r[1],a=null;if(i&&o){var s=n(i);a=s[o]}return a}}function i(){return function(e,n){return'window.uResponses.findElements("'+n(e)+'")'}}var o={innerText:t.bind(void 0,"innerText"),textContent:t.bind(void 0,"textContent"),value:t.bind(void 0,"value"),label:t.bind(void 0,"label"),href:t.bind(void 0,"href",!0),attr:r,find:i},a=function(e,n,t){var r={window:window,event:n.triggeringEvent,element:o,triggeringEvent:n.triggeringEvent},i=t(e,r);return i},s=function(e,n){var t=!0;for(var r in e){var i=e[r];"string"==typeof i&&(i=a(i,e,n),i.indexOf("{{")!=-1&&(t=!1),e[r]=i)}return t};return s}.apply(n,r),!(void 0!==i&&(e.exports=i))},42:function(e,n,t){var r,i;r=[],i=function(){var e=function(e,n){for(var t=n.split("."),r=e,i=0;i<t.length&&void 0!==r;i++)r=r[t[i]];return void 0!=r&&null!=r||(r=""),r},n=function(n,t){var r=n;return r=n.replace(/\{\{([a-zA-Z].*?)\}\}/g,function(n,r){return e(t,r)})};return n}.apply(n,r),!(void 0!==i&&(e.exports=i))}});
//# sourceMappingURL=uResponses.min.js.map